<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CRUDY - Juego LÃ³gico</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #121212;
      color: white;
      font-family: 'Courier New', Courier, monospace;
      padding: 2rem;
    }
    .container {
      max-width: 700px;
      margin: auto;
    }
    .boton-opcion {
      margin: 10px 0;
    }
    .oculto {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container text-center">
    <h1 class="mb-4">CRUDY</h1>
    <div id="juego"></div>
  </div>

  <script>
    let estado = {
      eleccionInicial: '',
      puntaje: 0,
    };

    function mostrarInicio() {
      document.getElementById('juego').innerHTML = `
        <h2>Bienvenido, desarrollador</h2>
        <p>CRUDY ha despertado. Â¿CuÃ¡l ruta tomarÃ¡s?</p>
        <button class="btn btn-primary boton-opcion" onclick="nivel1('nucleo')">NÃºcleo lÃ³gico</button>
        <button class="btn btn-primary boton-opcion" onclick="nivel1('simulado')">Entorno simulado</button>
        <button class="btn btn-danger boton-opcion" onclick="nivel1('trampa')">Ruta desconocida</button>
      `;
    }

    function nivel1(opcion) {
      estado.eleccionInicial = opcion;
      let mensaje = {
        nucleo: 'Accedes al corazÃ³n de CRUDY...',
        simulado: 'Todo parece real, pero hay errores...',
        trampa: 'Â¡Era una trampa! Reinicias desde un lugar extraÃ±o...'
      }[opcion];

      document.getElementById('juego').innerHTML = `
        <h2>Nivel 1: Inicio del Protocolo</h2>
        <p>${mensaje}</p>
        <button class="btn btn-secondary" onclick="nivel2()">Continuar</button>
      `;
    }

    function nivel2() {
      document.getElementById('juego').innerHTML = `
        <h2>Nivel 2: Laberinto de DecisiÃ³n</h2>
        <p>Escoge una puerta:</p>
        <button class="btn btn-success boton-opcion" onclick="nivel3('condicional')">Puerta Condicional</button>
        <button class="btn btn-warning boton-opcion" onclick="nivel3('directo')">Acceso Directo</button>
        <button class="btn btn-info boton-opcion" onclick="nivel3('codigo')">Puerta de CÃ³digo</button>
      `;
    }

    function nivel3(seleccion) {
      estado.seleccionPuerta = seleccion;
      document.getElementById('juego').innerHTML = `
        <h2>Nivel 3: DesafÃ­o de ReconstrucciÃ³n</h2>
        <p>Memoriza la secuencia:</p>
        <div id="secuencia" class="my-3">ðŸŸ¥ ðŸŸ© ðŸŸ¦</div>
        <button class="btn btn-secondary" onclick="mostrarOpcionesNivel3()">He memorizado</button>
      `;
      setTimeout(() => {
        document.getElementById('secuencia').classList.add('oculto');
      }, 3000);
    }

    function mostrarOpcionesNivel3() {
      document.getElementById('juego').innerHTML = `
        <h2>Â¿CuÃ¡l era la secuencia?</h2>
        <button class="btn btn-light boton-opcion" onclick="nivel4(true)">ðŸŸ¥ ðŸŸ© ðŸŸ¦</button>
        <button class="btn btn-light boton-opcion" onclick="nivel4(false)">ðŸŸ¦ ðŸŸ© ðŸŸ¥</button>
      `;
    }

    function nivel4(acierto) {
      if (acierto) estado.puntaje++;
      document.getElementById('juego').innerHTML = `
        <h2>Nivel 4: LÃ³gica Fractal</h2>
        <p>Si A â†’ B, B â†’ C, entonces:</p>
        <button class="btn btn-info boton-opcion" onclick="nivel5(true)">A â†’ C</button>
        <button class="btn btn-danger boton-opcion" onclick="nivel5(false)">No se puede deducir</button>
      `;
    }

    function nivel5(acierto) {
      if (acierto) estado.puntaje++;
      document.getElementById('juego').innerHTML = `
        <h2>Nivel 5: Juicio del NÃºcleo</h2>
        <p>Â¿CuÃ¡l de estos es un tipo de estructura de control en programaciÃ³n?</p>
        <button class="btn btn-success boton-opcion" onclick="final(true)">Condicional</button>
        <button class="btn btn-danger boton-opcion" onclick="final(false)">Contenedor</button>
      `;
    }

    function final(acierto) {
      if (acierto) estado.puntaje++;
      let final = estado.puntaje >= 2 ? "Â¡Has liberado el nÃºcleo de CRUDY!" : "CRUDY no ha sido convencido. Te quedas atrapado...";
      document.getElementById('juego').innerHTML = `
        <h2>Resultado Final</h2>
        <p>${final}</p>
        <p>Puntaje: ${estado.puntaje}/3</p>
        <button class="btn btn-light" onclick="reiniciar()">Reiniciar Juego</button>
      `;
    }

    function reiniciar() {
      estado = { eleccionInicial: '', puntaje: 0 };
      mostrarInicio();
    }

    // Inicio del juego
    mostrarInicio();
  </script>
</body>
</html>
